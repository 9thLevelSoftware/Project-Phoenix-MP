# Session State

## Project Reference

See: .planning/PROJECT.md

## Position

**Milestone:** v0.5.0 Premium Mobile
**Current phase:** Phase 15: CV Form Check — Android Integration
**Status:** Complete (3/3 plans complete)
**Current Plan:** 03 of 3 (COMPLETE)

## Decisions

- Dependencies in androidMain not commonMain - MediaPipe and CameraX are Android-only
- android:required=false for camera features - Form Check is optional premium feature
- CPU delegate only for v1 - GPU delegate has documented crashes on some devices
- 100ms minimum inference interval (~10 FPS max) balances form check accuracy with BLE pipeline protection
- Prefer world landmarks (3D) over normalized landmarks (2D) for camera-angle-robust joint angles
- Bundled lite model in APK assets - 5.78MB is acceptable for v1
- 160x120dp PiP size - small enough to not block workout metrics
- Front camera with horizontal flip for self-view workout feedback
- iOS stub provides no-op actual - Form Check deferred to v0.6.0+
- Callback pattern (onFormAssessment) decouples overlay from business logic

## Session Log

- 2026-02-25: STATE.md regenerated by /gsd:health --repair
- 2026-02-25: Phase 15 planning completed — 3 plans created (15-01, 15-02, 15-03)
- 2026-02-25: Plan 15-01 completed — MediaPipe and CameraX dependencies added
- 2026-02-25: Plan 15-02 completed — PoseLandmarkerHelper and LandmarkAngleCalculator created
- 2026-02-25: Plan 15-03 completed — FormCheckOverlay composable with CameraX PiP and skeleton overlay
- 2026-02-25: Phase 15 execution complete — all 3 plans finished
